<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="utf-8" />
<title>ტიკტოკერთა ჯახი ✊✊</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root {
  --bg: #111;
  --ui: #222;
  --text: #fff;
}
html, body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: Inter, Arial, sans-serif;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
}
h1 {
  margin: 8px 0 4px 0;
  font-weight: 600;
}
#controls {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
  padding: 6px;
}
button {
  font-size: 16px;
  padding: 8px 12px;
  border-radius: 8px;
  border: 0;
  background: #333;
  color: #fff;
  cursor: pointer;
}
button:active {
  transform: translateY(1px);
}
#timer {
  margin-top: 6px;
  font-size: 18px;
}
#timer.final-seconds {
  color: red;
  animation: flash 0.5s infinite;
}
@keyframes flash {
  0% { opacity: 1; }
  50% { opacity: 0; }
  100% { opacity: 1; }
}
#winnerBox {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 30;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}
#winnerCard {
  background: linear-gradient(180deg,#222 0%, #2a2a2a 100%);
  border: 2px solid rgba(255,255,255,0.06);
  padding: 18px 26px;
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  min-width: 260px;
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  transition: all .35s ease;
}
#winnerCard.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}
#winnerEmoji {
  font-size: 64px;
  filter: drop-shadow(0 6px 14px rgba(0,0,0,0.6));
}
#winnerText {
  font-size: 22px;
  font-weight: 700;
}
canvas {
  display: block;
  width: 100%;
  flex: 1;
}
</style>
</head>
<body>

<h1>ტიკტოკერთა ჯახი ✊✊</h1>

<div id="controls">
  <button onclick="addPoint(0)">ქეთი ეგიდუნაშვილი</button>
  <button onclick="addPoint(1)">გიორგი გოგოჭური</button>
  <button onclick="addPoint(2)">სტეფანიჩი</button>
  <button onclick="addPoint(3)">მაკა</button>
  <button onclick="addPoint(4)">დივა დარბაიძე</button>
  <button onclick="spawnSix()">წურბელა</button>
  <button onclick="spawnShield()">დაცვა</button>
  <button onclick="spawnLike()">Like ❤️</button>
</div>

<div id="timer">05:00</div>

<div id="winnerBox">
  <div id="winnerCard">
    <div id="winnerEmoji"></div>
    <div id="winnerText"></div>
  </div>
</div>

<canvas id="canvas"></canvas>

<script>
// --- Canvas setup ---
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d', { alpha: false });
const timerLabel = document.getElementById('timer');
const winnerCard = document.getElementById('winnerCard');
const winnerText = document.getElementById('winnerText');
const winnerEmoji = document.getElementById('winnerEmoji');

let W = window.innerWidth;
let H = window.innerHeight - document.getElementById('controls').offsetHeight - 120;

function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight - document.getElementById('controls').offsetHeight - 120;
}
window.addEventListener('resize', resize);
resize();

let points = [0,0,0,0,0];

// --- Background music ---
const bgMusic = new Audio("https://raw.githubusercontent.com/twisterdw/geotik/main/mus/main.mp3");
bgMusic.loop = true;
bgMusic.volume = 0.15;
document.body.addEventListener("click", ()=>bgMusic.play(), {once:true});
bgMusic.play().catch(()=>console.log("Autoplay blocked"));

// --- Sounds for points and wins ---
const teamSounds = [
  { point: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/qeti/1.mp3","https://raw.githubusercontent.com/twisterdw/geotik/main/mus/qeti/2.mp3"], win: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/qeti/kakaya%20osen.mp3"], currentPoint: null },
  { point: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/gogochuri/3.mp3"], win: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/gogochuri/win.mp3"], currentPoint: null },
  { point: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/stefanich/1.mp3"], win: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/stefanich/2.mp3"], currentPoint: null },
  { point: [], win: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/maka/1.mp3"], currentPoint: null },
  { point: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/hota/1.mp3"], win: ["https://raw.githubusercontent.com/twisterdw/geotik/main/mus/hota/8.mp3"], currentPoint: null }
];

// --- AgentSix, Coin, Shield, etc. ---
// (оставшийся код идентичен, но все пути заменены на GitHub raw-ссылки)
</script>
</body>
</html>
